{"ast":null,"code":"import _slicedToArray from\"/Users/asiaalnahi/Desktop/UW_Boot_Camp/Assignments-Projects/google-books-search/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import Container from'react-bootstrap/Container';import Row from'react-bootstrap/Row';import Col from'react-bootstrap/Col';import{SearchBox,SearchBtn}from\"../components/SearchBox/SearchBox\";import API from\"../utils/API\";import BookCard from\"../components/BookBox/BookBox\";var Search=function Search(){var _useState=useState('Cat and dog'),_useState2=_slicedToArray(_useState,2),searchKey=_useState2[0],setSearchKey=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),books=_useState4[0],setBooks=_useState4[1];useEffect(function(){loadBooks();},[]);var loadBooks=function loadBooks(){API.searchBooks(searchKey).then(function(res){return setBooks(res.data.items);}).catch(function(err){return console.log(err);});};var handleInputChange=function handleInputChange(e){var value=e.target.value;setSearchKey(value);};var handleFormSubmit=function handleFormSubmit(e){e.preventDefault();if(searchKey){loadBooks();console.log(books);};};var handleBookSubmit=function handleBookSubmit(book){if(book.title){API.saveBook({title:book.title,subtitle:book.subtitle,authors:book.authors,description:book.description,image:book.imageLinks.thumbnail,link:book.infoLink}).then(function(res){return console.log(res);}).catch(function(err){return console.log(err);});}};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(Row,null,/*#__PURE__*/React.createElement(Col,{style:{marginTop:28}},/*#__PURE__*/React.createElement(\"form\",null,/*#__PURE__*/React.createElement(\"h2\",null,\"Search for a book here:\"),/*#__PURE__*/React.createElement(SearchBox,{onChange:handleInputChange,name:\"search box\",placeholder:\"Search For Book..\"}),/*#__PURE__*/React.createElement(SearchBtn,{onClick:handleFormSubmit},\"Search\"))))),/*#__PURE__*/React.createElement(\"section\",{className:\"pt-5\"},/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(\"h2\",null,\"Search results:\"),/*#__PURE__*/React.createElement(Row,null,books?books.map(function(book){return/*#__PURE__*/React.createElement(BookCard,{key:book.id,data:book.volumeInfo,page:\"search\",handleBookSubmit:handleBookSubmit});}):null))));};export default Search;","map":{"version":3,"sources":["/Users/asiaalnahi/Desktop/UW_Boot_Camp/Assignments-Projects/google-books-search/client/src/pages/Search.jsx"],"names":["React","useState","useEffect","Container","Row","Col","SearchBox","SearchBtn","API","BookCard","Search","searchKey","setSearchKey","books","setBooks","loadBooks","searchBooks","then","res","data","items","catch","err","console","log","handleInputChange","e","value","target","handleFormSubmit","preventDefault","handleBookSubmit","book","title","saveBook","subtitle","authors","description","image","imageLinks","thumbnail","link","infoLink","marginTop","map","id","volumeInfo"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport { SearchBox, SearchBtn } from \"../components/SearchBox/SearchBox\";\nimport API from \"../utils/API\";\nimport BookCard from \"../components/BookBox/BookBox\";\n\nconst Search = () => {\n    const [searchKey, setSearchKey] = useState('Cat and dog'); \n    const [books, setBooks] = useState([]);\n\n    useEffect(() => {\n        loadBooks()\n    }, []);\n\n    const loadBooks = () => {\n        API.searchBooks(searchKey)\n            .then(res =>\n                setBooks(res.data.items)\n            )\n            .catch(err => console.log(err));\n    };\n\n    const handleInputChange = (e) => {\n        const { value } = e.target;\n        setSearchKey(value);\n    };\n\n    const handleFormSubmit = (e) => {\n        e.preventDefault();\n        if (searchKey) {\n            loadBooks();\n            console.log(books);\n        };\n    };\n\n    const handleBookSubmit = (book) => {\n        if (book.title) {\n            API.saveBook(\n                {\n                    title: book.title,\n                    subtitle: book.subtitle,\n                    authors: book.authors,\n                    description: book.description,\n                    image: book.imageLinks.thumbnail,\n                    link: book.infoLink\n                }\n            )\n                .then(res => console.log(res))\n                .catch(err => console.log(err));\n        }\n    };\n\n    return (\n        <>\n            <Container>\n                <Row>\n                    <Col style={{ marginTop: 28}}>\n                        <form>\n                            <h2>Search for a book here:</h2>\n                            <SearchBox\n                                onChange={handleInputChange}\n                                name=\"search box\"\n                                placeholder='Search For Book..'\n                            />\n                            <SearchBtn onClick={handleFormSubmit}>\n                                Search\n                            </SearchBtn>\n                        </form>\n                    </Col>\n                </Row>\n            </Container>\n            <section className=\"pt-5\">\n                <Container>\n                    <h2>Search results:</h2>\n                    <Row>\n                        {books\n                            ? books.map((book) => (\n                                <BookCard \n                                    key={book.id} \n                                    data={book.volumeInfo} \n                                    page=\"search\"\n                                    handleBookSubmit={handleBookSubmit}\n                                    />\n                            ))\n                            : null}\n                    </Row>\n                </Container>\n            </section>\n        </>\n    );\n}\n\nexport default Search;"]},"metadata":{},"sourceType":"module"}