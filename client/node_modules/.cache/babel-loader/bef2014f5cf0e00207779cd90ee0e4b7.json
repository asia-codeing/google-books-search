{"ast":null,"code":"import _regeneratorRuntime from \"/Users/asiaalnahi/Desktop/UW_Boot_Camp/Assignments-Projects/google-books-search/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/asiaalnahi/Desktop/UW_Boot_Camp/Assignments-Projects/google-books-search/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/Users/asiaalnahi/Desktop/UW_Boot_Camp/Assignments-Projects/google-books-search/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/asiaalnahi/Desktop/UW_Boot_Camp/Assignments-Projects/google-books-search/client/src/pages/Books.js\";\nimport React, { useState } from \"react\";\nimport Jumbotron from \"../components/Jumbotron\";\nimport API from \"../utils/API\";\nimport { List, ListItem } from \"../components/List\";\nimport { Input, FormBtn } from \"../components/Form\";\nimport axios from \"axios\"; // import \"./style.css\";\n\nimport { Container, Row, Col } from \"reactstrap\";\nimport SearchBox from '../components/SearchBox/SearchBox';\n\nfunction Books() {\n  var _this = this;\n\n  // react access the api key in the .env\n  var apiKey = process.env.REACT_APP_API_KEY;\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      books = _useState2[0],\n      setBooks = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      result = _useState4[0],\n      setResult = _useState4[1];\n\n  var _useState5 = useState(false),\n      _useState6 = _slicedToArray(_useState5, 2),\n      isHighlighted = _useState6[0],\n      setIsHighlighted = _useState6[1]; //handle change to search google books axios call/\n\n\n  function handleChange(event) {\n    var book = event.target.value;\n    setBooks(book);\n  } // // change background color of save button when mouse hovers over it\n  // function changeBackground(e) {\n  //   e.target.style.background = 'red';\n  // }\n\n\n  var searchGoogleBooks = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return axios.get(\"https://www.googleapis.com/books/v1/volumes?q=\" + books + \"&key=\" + apiKey).then(function (data) {\n                setResult(data.data.items);\n              }).catch(function (err) {\n                console.log(err);\n              });\n\n            case 2:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function searchGoogleBooks() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    console.log(books + \"book from handle submit button\");\n    searchGoogleBooks();\n  }\n\n  function handleBookSave(index) {\n    console.log(index);\n    console.log(result[index].id);\n    API.saveBook({\n      googleId: result[index].id,\n      image: result[index].volumeInfo.imageLinks.thumbnail,\n      title: result[index].volumeInfo.title,\n      authors: result[index].volumeInfo.authors,\n      description: result[index].volumeInfo.description,\n      link: result[index].volumeInfo.previewLink\n    }).catch(function (err) {\n      return console.log(err);\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Container, {\n    fluid: \"md\",\n    className: \"search-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    size: \"md-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(SearchBox, {\n    handleChange: handleChange,\n    handleSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 11\n    }\n  }), result.length ? /*#__PURE__*/React.createElement(List, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 15\n    }\n  }, result.map(function (book, index) {\n    console.log(JSON.stringify(book, null, 2));\n    return /*#__PURE__*/React.createElement(ListItem, {\n      key: book.id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(\"a\", {\n      href: \"/books/\" + book.id,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"book-title\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(\"strong\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 27\n      }\n    }, book.volumeInfo.title, \" by \", book.volumeInfo.authors))), /*#__PURE__*/React.createElement(\"p\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 23\n      }\n    }, book.volumeInfo.description), /*#__PURE__*/React.createElement(\"a\", {\n      href: book.volumeInfo.previewLink,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 23\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: book.volumeInfo.imageLinks === undefined ? \"\" : \"\".concat(book.volumeInfo.imageLinks.thumbnail),\n      alt: book.volumeInfo.title,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 25\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: function onClick() {\n        return handleBookSave(index);\n      },\n      className: \"btn\",\n      onMouseEnter: function onMouseEnter() {\n        return setIsHighlighted(true);\n      },\n      onMouseLeave: function onMouseLeave() {\n        return setIsHighlighted(false);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 23\n      }\n    }, isHighlighted && /*#__PURE__*/React.createElement(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 27\n      }\n    }, \"Click now to\"), \"Save Book to List\"));\n  })) : /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 15\n    }\n  }, \" No Results to Display\")))));\n}\n\nexport default Books;","map":{"version":3,"sources":["/Users/asiaalnahi/Desktop/UW_Boot_Camp/Assignments-Projects/google-books-search/client/src/pages/Books.js"],"names":["React","useState","Jumbotron","API","List","ListItem","Input","FormBtn","axios","Container","Row","Col","SearchBox","Books","apiKey","process","env","REACT_APP_API_KEY","books","setBooks","result","setResult","isHighlighted","setIsHighlighted","handleChange","event","book","target","value","searchGoogleBooks","get","then","data","items","catch","err","console","log","handleSubmit","preventDefault","handleBookSave","index","id","saveBook","googleId","image","volumeInfo","imageLinks","thumbnail","title","authors","description","link","previewLink","length","map","JSON","stringify","undefined"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport Jumbotron from \"../components/Jumbotron\";\nimport API from \"../utils/API\";\nimport { List, ListItem } from \"../components/List\";\nimport { Input, FormBtn } from \"../components/Form\";\nimport axios from \"axios\";\n// import \"./style.css\";\nimport { Container, Row, Col } from \"reactstrap\";\nimport SearchBox from '../components/SearchBox/SearchBox';\n\nfunction Books() {\n  // react access the api key in the .env\n  const apiKey = process.env.REACT_APP_API_KEY;\n\n  const [books, setBooks] = useState(\"\");\n  const [result, setResult] = useState([]);\n  const [isHighlighted, setIsHighlighted] = useState(false);\n\n  //handle change to search google books axios call/\n  function handleChange(event) {\n    const book = event.target.value;\n    setBooks(book);\n  }\n\n  // // change background color of save button when mouse hovers over it\n  // function changeBackground(e) {\n  //   e.target.style.background = 'red';\n  // }\n\n  const searchGoogleBooks = async () => {\n    await axios\n      .get(\n        \"https://www.googleapis.com/books/v1/volumes?q=\" +\n          books +\n          \"&key=\" +\n          apiKey\n      )\n      .then((data) => {\n        setResult(data.data.items);\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  };\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    console.log(books + \"book from handle submit button\");\n    searchGoogleBooks();\n  }\n\n  function handleBookSave(index) {\n    console.log(index);\n    console.log(result[index].id);\n    API.saveBook({\n      googleId: result[index].id,\n      image: result[index].volumeInfo.imageLinks.thumbnail,\n      title: result[index].volumeInfo.title,\n      authors: result[index].volumeInfo.authors,\n      description: result[index].volumeInfo.description,\n      link: result[index].volumeInfo.previewLink,\n    }).catch((err) => console.log(err));\n  }\n\n  return (\n    <div>\n      {/* <Jumbotron className=\"fluid\">\n        <h1 className=\"search-header\">Google Book Search</h1>\n      </Jumbotron> */}\n      <Container fluid=\"md\" className=\"search-container\">\n        <Row>\n          <Col size=\"md-6\">\n          <SearchBox handleChange={handleChange}\n              handleSubmit={handleSubmit}/>\n            {/* <Input\n              onChange={handleChange}\n              onSubmit={handleSubmit}\n              name=\"title\"\n              placeholder=\"Enter title, author, or keywords (required)\"\n            />\n            <FormBtn onClick={handleSubmit}>Search</FormBtn> */}\n            {result.length ? (\n              <List>\n                {result.map((book, index) => {\n                  console.log(JSON.stringify(book, null, 2));\n                  return (\n                    <ListItem key={book.id}>\n                      <a href={\"/books/\" + book.id}>\n                        <div className=\"book-title\">\n                          <strong>\n                            {book.volumeInfo.title} by {book.volumeInfo.authors}\n                          </strong>\n                        </div>\n                        \n                      </a>\n                      <p>{book.volumeInfo.description}</p>\n                      <a href={book.volumeInfo.previewLink}>\n                        <img\n                          src={\n                            book.volumeInfo.imageLinks === undefined\n                              ? \"\"\n                              : `${book.volumeInfo.imageLinks.thumbnail}`\n                          }\n                          alt={book.volumeInfo.title}\n                        />\n                      </a>\n                      <button\n                        onClick={() => handleBookSave(index)}\n                        className=\"btn\"\n                        onMouseEnter={() => setIsHighlighted(true)}\n                        onMouseLeave={() => setIsHighlighted(false)}\n                      >\n                        {isHighlighted && (\n                          <div>\n                            Click now to\n                          </div>\n                        )}\n                        Save Book to List\n                      </button>\n                    </ListItem>\n                  );\n                })}\n              </List>\n            ) : (\n              <h3> No Results to Display</h3>\n            )}\n          </Col>\n        </Row>\n      </Container>\n    </div>\n  );\n}\nexport default Books;"]},"metadata":{},"sourceType":"module"}