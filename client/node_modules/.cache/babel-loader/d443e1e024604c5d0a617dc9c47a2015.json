{"ast":null,"code":"import _slicedToArray from \"/Users/asiaalnahi/Desktop/UW_Boot_Camp/Assignments-Projects/google-books-search/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/asiaalnahi/Desktop/UW_Boot_Camp/Assignments-Projects/google-books-search/client/src/pages/Search.jsx\";\n\nimport React, { useState, useEffect } from \"react\";\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport { SearchBox, SearchBtn } from \"../components/SearchBox/SearchBox\";\nimport API from \"../utils/API\";\nimport BookCard from \"../components/BookBox/BookBox\";\n\nvar Search = function Search() {\n  var _useState = useState('Cat and dog'),\n      _useState2 = _slicedToArray(_useState, 2),\n      searchKey = _useState2[0],\n      setSearchKey = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      books = _useState4[0],\n      setBooks = _useState4[1];\n\n  useEffect(function () {\n    loadBooks();\n  }, []);\n\n  var loadBooks = function loadBooks() {\n    API.searchBooks(searchKey).then(function (res) {\n      return setBooks(res.data.items);\n    }).catch(function (err) {\n      return console.log(err);\n    });\n  };\n\n  var handleInputChange = function handleInputChange(e) {\n    var value = e.target.value;\n    setSearchKey(value);\n  };\n\n  var handleFormSubmit = function handleFormSubmit(e) {\n    e.preventDefault();\n\n    if (searchKey) {\n      loadBooks();\n      console.log(books);\n    }\n\n    ;\n  };\n\n  var handleBookSubmit = function handleBookSubmit(book) {\n    if (book.title) {\n      API.saveBook({\n        title: book.title,\n        subtitle: book.subtitle,\n        authors: book.authors,\n        description: book.description,\n        image: book.imageLinks.thumbnail,\n        link: book.infoLink\n      }).then(function (res) {\n        return console.log(res);\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Container, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    style: {\n      marginTop: 25\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 29\n    }\n  }, \"Search for a book here:\"), /*#__PURE__*/React.createElement(SearchBox, {\n    onChange: handleInputChange,\n    name: \"search box\",\n    placeholder: \"Search For Book..\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(SearchBtn, {\n    onClick: handleFormSubmit,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 29\n    }\n  }, \"Search\"))))), /*#__PURE__*/React.createElement(\"section\", {\n    className: \"pt-5\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Container, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 21\n    }\n  }, \"Search results\"), /*#__PURE__*/React.createElement(Row, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 21\n    }\n  }, books ? books.map(function (book) {\n    return /*#__PURE__*/React.createElement(BookCard, {\n      key: book.id,\n      data: book.volumeInfo,\n      page: \"search\",\n      handleBookSubmit: handleBookSubmit,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 33\n      }\n    });\n  }) : null))));\n};\n\nexport default Search;","map":{"version":3,"sources":["/Users/asiaalnahi/Desktop/UW_Boot_Camp/Assignments-Projects/google-books-search/client/src/pages/Search.jsx"],"names":["React","useState","useEffect","Container","Row","Col","SearchBox","SearchBtn","API","BookCard","Search","searchKey","setSearchKey","books","setBooks","loadBooks","searchBooks","then","res","data","items","catch","err","console","log","handleInputChange","e","value","target","handleFormSubmit","preventDefault","handleBookSubmit","book","title","saveBook","subtitle","authors","description","image","imageLinks","thumbnail","link","infoLink","marginTop","map","id","volumeInfo"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport { SearchBox, SearchBtn } from \"../components/SearchBox/SearchBox\";\nimport API from \"../utils/API\";\nimport BookCard from \"../components/BookBox/BookBox\";\n\nconst Search = () => {\n    const [searchKey, setSearchKey] = useState('Cat and dog'); \n    const [books, setBooks] = useState([]);\n\n    useEffect(() => {\n        loadBooks()\n    }, []);\n\n    const loadBooks = () => {\n        API.searchBooks(searchKey)\n            .then(res =>\n                setBooks(res.data.items)\n            )\n            .catch(err => console.log(err));\n    };\n\n    const handleInputChange = (e) => {\n        const { value } = e.target;\n        setSearchKey(value);\n    };\n\n    const handleFormSubmit = (e) => {\n        e.preventDefault();\n        if (searchKey) {\n            loadBooks();\n            console.log(books);\n        };\n    };\n\n    const handleBookSubmit = (book) => {\n        if (book.title) {\n            API.saveBook(\n                {\n                    title: book.title,\n                    subtitle: book.subtitle,\n                    authors: book.authors,\n                    description: book.description,\n                    image: book.imageLinks.thumbnail,\n                    link: book.infoLink\n                }\n            )\n                .then(res => console.log(res))\n                .catch(err => console.log(err));\n        }\n    };\n\n    return (\n        <>\n            <Container>\n                <Row>\n                    <Col style={{ marginTop: 25}}>\n                        <form>\n                            <h2>Search for a book here:</h2>\n                            <SearchBox\n                                onChange={handleInputChange}\n                                name=\"search box\"\n                                placeholder='Search For Book..'\n                            />\n                            <SearchBtn onClick={handleFormSubmit}>\n                                Search\n                            </SearchBtn>\n                        </form>\n                    </Col>\n                </Row>\n            </Container>\n            <section className=\"pt-5\">\n                <Container>\n                    <h2>Search results</h2>\n                    <Row>\n\n                        {books\n                            ? books.map((book) => (\n                                <BookCard \n                                    key={book.id} \n                                    data={book.volumeInfo} \n                                    page=\"search\"\n                                    handleBookSubmit={handleBookSubmit}\n                                    />\n                            ))\n                            : null}\n                    </Row>\n                </Container>\n            </section>\n        </>\n    );\n}\n\nexport default Search;"]},"metadata":{},"sourceType":"module"}